<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Music Player</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
      integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <div class="container-top">
        <div class="banner">
          <div>Music Player</div>
        </div>
        <div class="search">
          <div id="search">
            <svg viewBox="0 0 420 60" xmlns="http://www.w3.org/2000/svg">
              <rect class="bar" />

              <g class="magnifier">
                <circle class="glass" />
                <line class="handle" x1="32" y1="32" x2="44" y2="44"></line>
              </g>

              <g class="sparks">
                <circle class="spark" />
                <circle class="spark" />
                <circle class="spark" />
              </g>

              <g class="burst pattern-one">
                <circle class="particle circle" />
                <path class="particle triangle" />
                <circle class="particle circle" />
                <path class="particle plus" />
                <rect class="particle rect" />
                <path class="particle triangle" />
              </g>
              <g class="burst pattern-two">
                <path class="particle plus" />
                <circle class="particle circle" />
                <path class="particle triangle" />
                <rect class="particle rect" />
                <circle class="particle circle" />
                <path class="particle plus" />
              </g>
              <g class="burst pattern-three">
                <circle class="particle circle" />
                <rect class="particle rect" />
                <path class="particle plus" />
                <path class="particle triangle" />
                <rect class="particle rect" />
                <path class="particle plus" />
              </g>
            </svg>
            <input
              type="search"
              name="q"
              aria-label="Search for inspiration"
              id="input-search"
            />
          </div>
        </div>
      </div>
      <div class="container-main">
        <div class="main">
          <div class="container-image" id="demo">
            <img
              src="./album.png"
              alt="album"
              id="album"
              width="100%"
              height="100%"
            />
            <!-- <iframe
              width="560"
              height="315"
              src="https://www.youtube.com/embed/4tPAY5n40c0?rel=0&enablejsapi=1"
              frameborder="0"
              allow="autoplay; encrypted-media"
              allowfullscreen
              hidden
            ></iframe> -->
          </div>
          <iframe
            id="existing-iframe-example"
            src=""
            frameborder="0"
            allow="autoplay; encrypted-media"
            width="960px"
            height="540px"
            hidden
          ></iframe>
          <div class="description">
            <div>
              <h2 id="title">Music</h2>
            </div>
          </div>
          <div class="container-controll">
            <input type="range" min="1" max="100" value="30" id="range" />
            <button id="previous"><i class="fa-solid fa-backward"></i></button>
            <button id="play-pause">
              <i class="fa-solid fa-play"></i>
            </button>
            <button id="next"><i class="fa-solid fa-forward"></i></button>
          </div>
        </div>
        <div class="container-list" id="list">
          <div>
            <img src="./album.png" alt="Album" class="album-of-list" />
            <h2>Description</h2>
          </div>
          <div>
            <img src="./album.png" alt="Album" class="album-of-list" />
            <h2>Description</h2>
          </div>
          <div>
            <img src="./album.png" alt="Album" class="album-of-list" />
            <h2>Description</h2>
          </div>
          <div>
            <img src="./album.png" alt="Album" class="album-of-list" />
            <h2>Description</h2>
          </div>
        </div>
      </div>
    </div>
    <script type="text/javascript">
      var tag = document.createElement("script");
      tag.id = "iframe-demo";
      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName("script")[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      var player;
      function onYouTubeIframeAPIReady() {
        player = new YT.Player("existing-iframe-example", {
          events: {
            onReady: onPlayerReady,
            onStateChange: onPlayerStateChange,
          },
        });
      }
      function onPlayerReady(event) {
        document.getElementById("existing-iframe-example").style.borderColor =
          "#FF6D00";
      }
      function changeBorderColor(playerStatus) {
        var color;
        if (playerStatus == -1) {
          color = "#37474F"; // unstarted = gray
        } else if (playerStatus == 0) {
          color = "#FFFF00"; // ended = yellow
        } else if (playerStatus == 1) {
          color = "#33691E"; // playing = green
        } else if (playerStatus == 2) {
          color = "#DD2C00"; // paused = red
        } else if (playerStatus == 3) {
          color = "#AA00FF"; // buffering = purple
        } else if (playerStatus == 5) {
          color = "#FF6DOO"; // video cued = orange
        }
        if (color) {
          document.getElementById("existing-iframe-example").style.borderColor =
            color;
        }
      }
      function onPlayerStateChange(event) {
        changeBorderColor(event.data);
        // let currentTime = player.getCurrentTime();
        // let duration = player.getDuration();
        // document.getElementById("range").max = duration;
        // document.getElementById("range").value = currentTime;
      }
      setInterval(() => {
        let currentTime = player.getCurrentTime();
        let duration = player.getDuration();
        document.getElementById("range").max = duration;
        document.getElementById("range").value = currentTime;
      }, 0);
      document.getElementById("range").addEventListener("input", () => {
        player.seekTo(document.getElementById("range").value);
      });
    </script>
    <script src="./script.js"></script>
  </body>
</html>
